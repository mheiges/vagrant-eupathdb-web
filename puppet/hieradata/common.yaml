---
oracle_home: /u01/app/oracle/product/11.2.0.3/db_1

java_keystore_target: /etc/pki/tls/certs/cacerts
java_keystore_passwd: graeo5locza

ebrc_ca::cacert: apidb-ca-rsa.crt

ebrc_common_web_dirs::parent_dir : /var/www/Common
ebrc_common_web_dirs::owner : root
ebrc_common_web_dirs::group : root

ebrc_java::packages:
  - jdk-1.7.0_25-fcs
  - java-1.5.0-sun-devel
ebrc_java::java_home: /usr/java/jdk1.7.0_25

ebrc_tomcat::packages:
  - tomcat-6.0.43
  - tomcat-7.0.59

tomcat_instance_framework::instances:
  TemplateDB:
    ensure: running
    http_port:  9380
    ajp13_port: 9309
    jmx_port:   9305
    tomcat_user: tomcat_3
    template_ver: 6.0.35
    public_logs: true
    pg_jdbc_path: /usr/share/java/postgresql94-jdbc.jar
    environment: |
        CATALINA_OPTS['JMX_OPTS']="\
          -Dcom.sun.management.jmxremote \
          -Dcom.sun.management.jmxremote.port=\$JMX_PORT \
          -Dcom.sun.management.jmxremote.ssl=false \
          -Dcom.sun.management.jmxremote.authenticate=false"
  FooDB:
    ensure: stopped
    http_port:  9480
    ajp13_port: 9409
    tomcat_user: tomcat_3
    template_ver: 6.0.35
    public_logs: false
    pg_jdbc_path: /usr/share/java/postgresql94-jdbc.jar
    environment: |
      A=B
      C=D
  TooDB:
    ensure: running
    http_port:  9580
    ajp13_port: 9509
    tomcat_user: tomcat_3
    template_ver: 6.0.35
    pg_jdbc_path: /usr/share/java/postgresql94-jdbc.jar
    environment: |
      if [[ -e "/usr/java/jprofiler-agent/linux-x64/libjprofilerti.so" ]]; then
        echo 1
        CATALINA_OPTS[JPROFILER]="-agentpath:/usr/java/jprofiler-agent/linux-x64/libjprofilerti.so=port=$JPROFILER_PORT,nowait"
      fi
tomcat_instance_framework::global:
    instances_dir: /usr/local/tomcat_instances
    java_home: "%{hiera('ebrc_java::java_home')}"
    catalina_home: /usr/local/apache-tomcat-6.0.35
    oracle_home: "%{hiera('oracle_home')}"
    environment: |
        CATALINA_OPTS['MEM']="-Xms256m -Xmx1024m -XX:MaxPermSize=512m"
